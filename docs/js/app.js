(function(t){function e(e){for(var n,o,l=e[0],r=e[1],c=e[2],u=0,v=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&v.push(i[o][0]),i[o]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);d&&d(e);while(v.length)v.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,l=1;l<a.length;l++){var r=a[l];0!==i[r]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},i={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/task_manager/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=r;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1acb":function(t,e,a){"use strict";a("5d34")},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{color:"primary",dark:"",app:"","clipped-left":""}},[a("v-toolbar-title",[t._v("タスクマネージャ")])],1),a("v-main",[a("router-view")],1)],1)},s=[],o={name:"App"},l=o,r=a("2877"),c=a("6544"),d=a.n(c),u=a("7496"),v=a("40dc"),m=a("f6c4"),f=a("2a7f"),h=Object(r["a"])(l,i,s,!1,null,null,null),p=h.exports;d()(h,{VApp:u["a"],VAppBar:v["a"],VMain:m["a"],VToolbarTitle:f["a"]});var b=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-select",{attrs:{items:t.nav_lists,label:"選択中のリスト",outlined:""},on:{change:t.changeList},model:{value:t.selected_list,callback:function(e){t.selected_list=e},expression:"selected_list"}}),a("v-text-field",{attrs:{label:"TODOを入力しましょう！",solo:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-fade-transition",[t.newItemTitle?a("v-icon",{on:{click:function(e){return t.addTodo()}}},[t._v(" mdi-plus-circle-outline ")]):t._e()],1)]},proxy:!0}]),model:{value:t.newItemTitle,callback:function(e){t.newItemTitle=e},expression:"newItemTitle"}}),a("draggable",{attrs:{handle:".sort",animation:"200"},on:{change:t.saveTodo},model:{value:t.items,callback:function(e){t.items=e},expression:"items"}},[t._l(t.items,(function(e,n){return[a("v-list-item",{key:""+n},[a("v-checkbox",{attrs:{label:e.title,color:e.isChecked?"grey":"primary"},on:{change:t.saveTodo},model:{value:e.isChecked,callback:function(a){t.$set(e,"isChecked",a)},expression:"item.isChecked"}}),a("v-spacer"),a("EditTODO",{attrs:{editing:e,sortable:t.sortable},on:{saveTodo:t.saveTodo}}),1==t.sortable?a("v-icon",{staticClass:"sort"},[t._v("mdi-menu")]):t._e()],1)]}))],2),a("v-footer",{attrs:{fixed:"",padless:"",app:""}},[a("v-bottom-navigation",[a("NewList",{on:{addList:t.addList}}),a("EditList",{attrs:{editing:t.selected_list},on:{changeListName:t.changeListName}}),a("v-btn",{on:{click:function(e){t.sortable=!t.sortable}}},[1!=t.sortable?a("span",[t._v("編集モード")]):t._e(),1==t.sortable?a("span",[t._v("並替モード")]):t._e(),1!=t.sortable?a("v-icon",[t._v("mdi-wrench")]):t._e(),1==t.sortable?a("v-icon",[t._v("mdi-sort")]):t._e()],1),a("v-btn",{on:{click:function(e){return t.deleteTodo()}}},[a("span",[t._v("チェック済")]),a("v-icon",[t._v("mdi-delete")])],1),a("v-btn",{on:{click:function(e){return t.signOut()}}},[a("span",[t._v("ログアウト")]),a("v-icon",[t._v("mdi-logout")])],1)],1)],1)],1)},_=[],w=a("2591"),x=a("b76a"),k=a.n(x),V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0==t.sortable?a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-icon",t._g(t._b({},"v-icon",i,!1),n),[t._v("mdi-dots-horizontal")])]}}],null,!1,365618925),model:{value:t.edit,callback:function(e){t.edit=e},expression:"edit"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("タスク名編集")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"変更前のタスク名",readonly:""},model:{value:t.editing.title,callback:function(e){t.$set(t.editing,"title",e)},expression:"editing.title"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"変更後のタスク名"},model:{value:t.newItemName,callback:function(e){t.newItemName=e},expression:"newItemName"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.edit=!1}}},[t._v("キャンセル")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.editTodo}},[t._v(" 保存 ")])],1)],1)],1):t._e()},y=[],T={name:"EditTODO",data(){return{edit:!1,newItemName:""}},props:{editing:{},sortable:!1},methods:{editTodo:function(){console.log("edit"),""!=this.newItemName?(this.editing.title=this.newItemName,this.$emit("saveTodo"),this.edit=!1):alert("タスク名を入力してください")}}},C=T,O=a("8336"),L=a("b0af"),I=a("99d9"),N=a("62ad"),E=a("a523"),S=a("169a"),j=a("132d"),$=a("0fd9"),A=a("2fa4"),P=a("8654"),D=Object(r["a"])(C,V,y,!1,null,null,null),B=D.exports;d()(D,{VBtn:O["a"],VCard:L["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:N["a"],VContainer:E["a"],VDialog:S["a"],VIcon:j["a"],VRow:$["a"],VSpacer:A["a"],VTextField:P["a"]});var F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({},"v-btn",i,!1),n),[a("span",[t._v("リスト名変更")]),a("v-icon",[t._v("mdi-playlist-edit")])],1)]}}]),model:{value:t.edit,callback:function(e){t.edit=e},expression:"edit"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("リスト名編集")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"変更前のリスト名",readonly:""},model:{value:t.editing,callback:function(e){t.editing=e},expression:"editing"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"変更後のリスト名"},model:{value:t.newListName,callback:function(e){t.newListName=e},expression:"newListName"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("キャンセル")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.editList}},[t._v(" 保存 ")])],1)],1)],1)},U=[],q={name:"EditList",data(){return{edit:!1,newListName:""}},props:{editing:""},methods:{editList:function(){console.log("edit list"),this.editing!=this.newListName?""!=this.newListName?(this.$emit("changeListName",this.newListName),this.close()):alert("リスト名を入力してください"):alert("リスト名は以前と違うものにしてください")},close:function(){this.newListName="",this.edit=!1}},mounted:function(){this.newListName=""}},M=q,J=Object(r["a"])(M,F,U,!1,null,null,null),R=J.exports;d()(J,{VBtn:O["a"],VCard:L["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:N["a"],VContainer:E["a"],VDialog:S["a"],VIcon:j["a"],VRow:$["a"],VSpacer:A["a"],VTextField:P["a"]});var z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({},"v-btn",i,!1),n),[a("span",[t._v("新規リスト")]),a("v-icon",[t._v("mdi-playlist-plus")])],1)]}}]),model:{value:t.newlist,callback:function(e){t.newlist=e},expression:"newlist"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("新規リスト作成")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"リストの名前",required:""},model:{value:t.newListName,callback:function(e){t.newListName=e},expression:"newListName"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.newlist=!1}}},[t._v(" キャンセル ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.$emit("addList",t.newListName),t.newlist=!1}}},[t._v(" 追加 ")])],1)],1)],1)},W=[],Z={name:"NewList",data(){return{newlist:!1,newListName:""}}},G=Z,K=Object(r["a"])(G,z,W,!1,null,null,null),Q=K.exports;d()(K,{VBtn:O["a"],VCard:L["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:I["c"],VCol:N["a"],VContainer:E["a"],VDialog:S["a"],VIcon:j["a"],VRow:$["a"],VSpacer:A["a"],VTextField:P["a"]});var X={name:"TODO",components:{draggable:k.a,EditTODO:B,EditList:R,NewList:Q},data(){return{newItemTitle:"",editing:{},sortable:!1,uid:"",db:{},nav_lists:[],selected_list:"",items:[]}},methods:{addTodo:function(){console.log("add todo"),this.checkItem()&&(this.items.push({title:this.newItemTitle,isChecked:!1}),console.log(this.selected_list),this.saveTodo()),this.newItemTitle=""},deleteTodo:function(){this.items=this.items.filter((function(t){return!1===t.isChecked})),this.saveTodo()},loadTodo:function(){console.log("loaded"),this.dbPath=this.uid+"/"+this.selected_list+"/items",this.db.ref(this.dbPath).on("value",t=>{if(t){const e=t.val();let a=[];null!=e&&(Object.keys(e).forEach(t=>{a.push(e[t])}),this.items=a)}})},saveTodo:function(){console.log("save"),this.db.ref(this.dbPath).set(this.items)},addList:function(t){console.log("add list"),this.nav_lists.push(t),this.selected_list=this.newListName,this.items=[],this.newlist=!1,this.loadTodo()},changeList:function(){console.log("combo changed"),this.loadTodo()},changeListName:function(t){console.log("change list name");let e=this.uid+"/"+t+"/items";this.db.ref(e).set(this.items),this.db.ref(this.uid+"/"+this.selected_list).remove(),this.selected_list=t},checkItem:function(){console.log("check item");let t=!0;try{if(!this.selected_list)throw new Error("保存先のリストを選択してください");Object.keys(this.items).forEach(t=>{let e=this.items[t].title;if(e==this.newItemTitle)throw new Error("そのタスク名は既に存在しています")})}catch(e){t=!1,alert(e)}return t},signOut:function(){0!=this.isSignIn&&(this.nav_lists=[],w["a"].auth().signOut().then(()=>{this.$router.push("/signin",()=>{})}))}},mounted:function(){console.log("mounted"),this.db=w["a"].database(),this.uid=w["a"].auth().currentUser.uid,0==this.selected_list.length&&this.db.ref(this.uid).on("value",t=>{if(t.val()){const e=t.val();let a=[];Object.keys(e).forEach(t=>{a.push(t)}),this.nav_lists=a,""==this.selected_list&&(this.selected_list=this.nav_lists[0],this.changeList())}else console.log("no data"),0==this.nav_lists.length&&this.nav_lists.push("新規リスト"),""==this.selected_list&&(this.selected_list=this.nav_lists[0],this.changeList())})}},H=X,Y=a("b81c"),tt=a("ac7c"),et=a("0789"),at=a("553a"),nt=a("da13"),it=a("b974"),st=Object(r["a"])(H,g,_,!1,null,null,null),ot=st.exports;d()(st,{VBottomNavigation:Y["a"],VBtn:O["a"],VCheckbox:tt["a"],VContainer:E["a"],VFadeTransition:et["c"],VFooter:at["a"],VIcon:j["a"],VListItem:nt["a"],VSelect:it["a"],VSpacer:A["a"],VTextField:P["a"]});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[a("v-card-text",[a("v-text-field",{attrs:{filled:"",label:"Eメールアドレス"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{filled:"",type:"password",label:"パスワード"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signUp(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{staticClass:"primary",attrs:{large:""},on:{click:t.signUp}},[t._v("登録")])],1),a("v-divider"),a("v-card-text",[t._v(" 既にアカウントをお持ちの方は "),a("router-link",{attrs:{to:"/signin"}},[t._v("こちら")])],1)],1)},rt=[],ct={name:"Signup",data(){return{username:"",password:""}},methods:{signUp:function(){w["a"].auth().createUserWithEmailAndPassword(this.username,this.password).then(t=>{this.$router.replace("/signin")}).catch(t=>{alert(t.message)})}}},dt=ct,ut=(a("ef33"),a("ce7e")),vt=Object(r["a"])(dt,lt,rt,!1,null,"16da2a86",null),mt=vt.exports;d()(vt,{VBtn:O["a"],VCard:L["a"],VCardText:I["b"],VDivider:ut["a"],VTextField:P["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"500"}},[a("v-card-text",[a("v-text-field",{attrs:{filled:"",label:"Eメールアドレス"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{filled:"",type:"password",label:"パスワード"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.signIn(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{staticClass:"primary",attrs:{large:""},on:{click:t.signIn}},[t._v("サインイン")])],1),a("v-divider"),a("v-card-text",[t._v(" アカウントをお持ちでない方は "),a("router-link",{attrs:{to:"/signup"}},[t._v("こちら")])],1)],1)},ht=[],pt={name:"Signin",data(){return{username:"",password:""}},methods:{signIn:function(){w["a"].auth().signInWithEmailAndPassword(this.username,this.password).then(t=>{this.$router.push("/",()=>{})},t=>{alert(t.message)})}}},bt=pt,gt=(a("1acb"),Object(r["a"])(bt,ft,ht,!1,null,"791cdfdc",null)),_t=gt.exports;d()(gt,{VBtn:O["a"],VCard:L["a"],VCardText:I["b"],VDivider:ut["a"],VTextField:P["a"]}),n["a"].use(b["a"]);const wt=[{path:"/",name:"TODO",component:ot,meta:{requiresAuth:!0}},{path:"/signup",name:"Signup",component:mt},{path:"/signin",name:"Signin",component:_t}],xt=new b["a"]({routes:wt});xt.beforeEach((t,e,a)=>{const n=t.matched.some(t=>t.meta.requiresAuth);n?w["a"].auth().onAuthStateChanged((function(e){e?a():a({path:"/signin",query:{redirect:t.fullPath}})})):a()});var kt=xt,Vt=a("f309");n["a"].use(Vt["a"]);var yt=new Vt["a"]({});n["a"].config.productionTip=!1;const Tt={apiKey:"AIzaSyC3J7ajLsTdq1bBk_sQd7nOBvU2XZ0IPSA",authDomain:"yufffff-todo.firebaseapp.com",databaseURL:"https://yufffff-todo-default-rtdb.firebaseio.com",projectId:"yufffff-todo",storageBucket:"yufffff-todo.appspot.com",messagingSenderId:"302478528291",appId:"1:302478528291:web:2527bede0e08e00d78c696",measurementId:"G-E2TV53ZJLC"};w["a"].initializeApp(Tt),new n["a"]({router:kt,vuetify:yt,render:function(t){return t(p)}}).$mount("#app")},"5d34":function(t,e,a){},ef33:function(t,e,a){"use strict";a("efbc")},efbc:function(t,e,a){}});